# Use a minimal base image
FROM alpine:latest

# Write a file with the nameplate designator
RUN echo srjcl > /nameplate.txt

# Install necessary packages
RUN apk update && apk add --no-cache \
    iputils                          \
    iproute2                         \
    net-tools                        \
    bind-tools                       \
    curl                             \
    traceroute                       \
    tcpdump                          \
    nmap                             \
    iptables                         \
    dnsmasq                          \
    socat                            \
  && echo done

# write a file with the hardcoded nameplate
RUN echo $NAMEPLATE_MONIKER > /nameplate.txt

# Keep the container alive
CMD ["tail", "-f", "/dev/null"]
