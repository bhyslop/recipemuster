#!/bin/bash
set -euo pipefail
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
case "$(uname -s)-$(uname -m)" in
  Darwin-arm64)   exec "$SCRIPT_DIR/vvr-darwin-arm64" "$@" ;;
  Darwin-x86_64)  exec "$SCRIPT_DIR/vvr-darwin-x86_64" "$@" ;;
  Linux-x86_64)   exec "$SCRIPT_DIR/vvr-linux-x86_64" "$@" ;;
  Linux-aarch64)  exec "$SCRIPT_DIR/vvr-linux-aarch64" "$@" ;;
  MINGW*|MSYS*)   exec "$SCRIPT_DIR/vvr-windows-x86_64.exe" "$@" ;;
  *)              echo "vvx: unsupported platform: $(uname -s)-$(uname -m)" >&2; exit 1 ;;
esac
