Return context needed to saddle up on a
{jjdhr_heat}:
the current
{jjdpr_pace}
(first in
{jjdhm_order}
whose state is
{jjdpe_rough}
or
{jjdpe_bridled})
and its
{jjdkr_tack}
details.

{jjds_arguments}

// ⟦axd_optional axd_defaulted⟧
* {jjda_file}

// ⟦axd_optional axd_defaulted⟧
* {jjdt_firemark}
(positional) — target
{jjdhr_heat}.
If omitted, uses first
{jjdhe_racing}
heat.
Returns error if no racing heats exist.

{jjds_stdout} Plain text format with labeled sections.
Section `Racing-heats:` shows all racing heats in muster table format.
[source,text]
----
Racing-heats:
₣Fire    Silks                       Status  Done  Total
───────  ──────────────────────────  ──────  ────  ─────
₣XX      heat-silks-name             racing     3     10
...

Heat: <silks> (₣<firemark>) [<status>]
Paddock: <paddock_file_path>

Paddock-content:
  <line 1 of paddock content>
  <line 2 of paddock content>
  ...

Next: <pace_silks> (₢<coronet>) [<state>]

Spec:
  <line 1 of spec>
  <line 2 of spec>
  ...

Work-files:
  <bare_filename_1>
  <bare_filename_2>
  ...

Direction:
  <line 1 of direction>
  <line 2 of direction>
  ...

Recent-work:
Timestamp         Commit    [A]  Identity  Subject
-------------------------------------------------
YYYY-MM-DD HH:MM  abcd1234  [W]  ₢XXXXX    ...
YYYY-MM-DD HH:MM  efgh5678  [n]  ₢XXXXX    ...
...
----

Sections `Next:` through `Direction:` are absent if no actionable pace exists.
Field `pace_silks` is derived from `tacks[0].silks`.
Section `Direction:` is present only when pace state is
{jjdpe_bridled}.
Section `Paddock-content:` contains the full text of the paddock file, indented 2 spaces.
Section `Work-files:` lists files touched by the actionable pace's commits (excluding `.claude/jjm/*`), indented 2 spaces, sorted, one per line.
Section `Recent-work:` contains the last 10 steeplechase entries for the heat (from
{jjdo_rein}),
formatted as column-aligned table.

{jjds_exit_uniform} 0 success, non-zero error.

{jjds_behavior}

. Collect all heats with status
{jjdhe_racing}.
Render column-aligned table using same format as
{jjdo_muster}
(₣Fire, Silks, Status, Done, Total).
Output as `Racing-heats:` section.
. Read
{jjdgr_gallops}
from file
. Verify
{jjdhr_heat}
exists with given
{jjdt_firemark}
. Error if
{jjdhm_status}
is
{jjdhe_stabled}
("Cannot saddle stabled heat {firemark}")
. Output `heat_silks` from
{jjdhr_heat}
. Output `paddock_file` from
{jjdhm_paddock}
. Read paddock file contents, output as `paddock_content`
. Walk
{jjdhm_order}
array in sequence
. For each
{jjdt_coronet},
check `paces[coronet].tacks[0].state`
. If state is
{jjdpe_rough}
or
{jjdpe_bridled}:
.. Output `pace_coronet`,
`pace_silks` (from `tacks[0].silks`),
`pace_state`
.. Output `spec` from `tacks[0].text`
.. Query steeplechase entries for heat, filter by actionable pace coronet, run `git diff-tree` per commit, collect unique work file names (excluding `.claude/jjm/*`), output as `Work-files:` section (2-space indented, sorted, one per line)
.. If state is
{jjdpe_bridled},
output `direction` from `tacks[0].direction`
.. Stop walking (first match wins)
. If no actionable pace found, output only `heat_silks`, `paddock_file`, `paddock_content`, and `recent_work`
. Get last 10 steeplechase entries for the heat via
{jjdo_rein}
logic, output as `recent_work` array
