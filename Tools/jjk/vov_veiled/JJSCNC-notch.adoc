Create a JJ-aware git commit with heat/pace context prefix.

{jjds_arguments}

// ⟦axd_required⟧
* identity (positional) — {jjdt_coronet} for pace-affiliated commit, or {jjdt_firemark} for heat-only commit

// ⟦axd_required⟧
* files (positional, repeated) — paths to commit (at least one required)

// ⟦axd_optional⟧
* `--intent` — commit subject provided by opus (if omitted, falls back to haiku diff description)

// ⟦axd_optional⟧
* `--size-limit` — size limit in bytes for the commit guard (default: 50KB)

{jjds_stdout} Commit hash

{jjds_exit_uniform} 0 success, non-zero error.

{jjds_behavior}

. Parse identity:
.. If 5 base64 chars (Coronet): pace-affiliated commit
.. If 2 base64 chars (Firemark): heat-only commit (no pace affiliation)
. Validate file list:
.. If empty: exit 1 with "error: no files specified"
.. If any file does not exist AND is not tracked by git: exit 1 with "error: file not found: {path}"
. Check for uncommitted changes outside file list:
.. Run `git status --porcelain` to get all modified files
.. For each modified file NOT in the specified list, warn to stderr:
+
----
warning: uncommitted changes outside file list:
  modified: path/to/file.rs
----
. Acquire lock (`refs/vvg/locks/vvx`)
. Stage specified files only (`git add <file1> <file2> ...`)
. Run size guard check (uses `--size-limit` if provided, otherwise 50KB default)
. Determine commit subject:
.. If `--intent` provided: use the supplied intent string
.. Otherwise: run `claude --print "Generate commit message for this diff: $(git diff --cached)"`
. Format full message based on identity type:
.. Coronet: `jjb:HALLMARK:₢XXXXX:n: message\n\nCo-Authored-By: ...`
.. Firemark: `jjb:HALLMARK:₣XX:n: message\n\nCo-Authored-By: ...`
. Run `git commit -m "..."`
. Release lock
. Output commit hash
