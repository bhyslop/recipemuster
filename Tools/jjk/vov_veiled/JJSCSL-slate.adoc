
Add a new
{jjdpr_pace}
to a
{jjdhr_heat}.
The initial
{jjdkr_tack}
is created with state
{jjdpe_rough}.

By default, the new
{jjdpr_pace}
is appended to the end of
{jjdhm_order}.
Use positioning flags to insert at a specific location.

{jjds_arguments}

// ⟦axd_optional axd_defaulted⟧
* {jjda_file}

// ⟦axd_required⟧
* {jjdt_firemark}
(positional) — target
{jjdhr_heat}

// ⟦axd_required⟧
* {jjda_silks}

// ⟦axd_required⟧
* stdin —
{jjdkm_text}
content for the initial
{jjdkr_tack}

// ⟦axd_optional⟧
* {jjda_before}
— insert before specified
{jjdt_coronet}

// ⟦axd_optional⟧
* {jjda_after}
— insert after specified
{jjdt_coronet}

// ⟦axd_optional⟧
* {jjda_first}
— insert at beginning of
{jjdhm_order}

*Positioning:* Only one of
{jjda_before},
{jjda_after},
or
{jjda_first}
may be specified.
If none provided, append to end (default).
Note:
{jjdo_reorder}
reorders existing
{jjdpr_pace_s};
{jjdo_enroll}
positioning inserts a new
{jjdpr_pace}
at a specific location.

{jjds_stdout} New
{jjdt_coronet}

{jjds_exit_uniform} 0 success, non-zero error.

{jjds_behavior}

.
{jjdr_load}
{jjda_file};
on failure, exit immediately with
{jjdr_load}
error status
. Verify
{jjdhr_heat}
exists with given
{jjdt_firemark}
. If
{jjda_before}
or
{jjda_after}
provided, verify target
{jjdt_coronet}
exists in
{jjdhr_heat}
. Read
{jjdhm_seed}
from target
{jjdhr_heat}
. Construct
{jjdt_coronet}:
`₢` + encoded
{jjdt_firemark}
(2 chars) +
{jjdhm_seed}
(3 chars)
. Create new
{jjdpr_pace}
with:
.. Key: constructed
{jjdt_coronet}
.. `tacks`: array with single
{jjdkr_tack}:
... {jjdkm_refined}:
current timestamp (YYMMDD-HHMM)
... {jjdkm_state}:
{jjdpe_rough}
... {jjdkm_text}:
from stdin
... {jjdkm_silks}:
from argument
... {jjdkm_commit}:
capture {jjdkm_commit}
. Insert
{jjdt_coronet}
into
{jjdhm_order}
at determined position:
.. If
{jjda_first}:
insert before first actionable pace (or append if none)
.. If
{jjda_before}:
insert immediately before target
{jjdt_coronet}
.. If
{jjda_after}:
insert immediately after target
{jjdt_coronet}
.. Otherwise: append to end
. Increment
{jjdhm_seed}
(base64 arithmetic with carry)
.
{jjdr_save}
{jjdgr_gallops}
to
{jjda_file}
. Output new
{jjdt_coronet}
to stdout
