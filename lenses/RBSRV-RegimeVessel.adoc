== Overview

This Configuration Regime specifies variables that define container image vessel configurations within the Recipe Bottle system.
Each {rbrv_regime} represents a distinct container image definition with its own build parameters and runtime characteristics.
RBRV regimes are found in `rbev-vessels/*/rbrv.env` files and control the build process for specific container image types.

== Feature Groups

=== Core Vessel Identity

[cols="1,1,3"]
|===
|Assignment Variable |Type |Details

.4+|**`RBRV_SIGIL`**
|Purpose|
Unique identifier for the vessel type
|Type|
{axtu_xname}:
1-64 characters
|Required|
Yes
|Constraints|
Must form valid directory name and moniker basis
|===

=== Vessel Documentation

[cols="1,1,3"]
|===
|Assignment Variable |Type |Details

.4+|**`RBRV_DESCRIPTION`**
|Purpose|
Human-readable documentation of the vessel's purpose, role, and key characteristics
|Type|
{axtu_string}:
0-240 characters
|Required|
No
|Constraints|
Used for identification in logs, messages, and documentation contexts
|===

=== Binding Configuration

[cols="1,1,3"]
|===
|Assignment Variable |Type |Details

.4+|**`RBRV_BIND_IMAGE`**
|Purpose|
Upstream container image reference for binding-type vessels
|Type|
{axtu_string}:
Fully-qualified image reference (1-256 characters)
|Required|
When vessel type is binding
|Constraints|
Format: `registry/namespace/image:tag` (e.g., `docker.io/library/nginx:1.27-alpine`)
Present only in binding-type vessels; absent in conjuring-type vessels
|===

=== Conjuring Configuration

[cols="1,1,3"]
|===
|Assignment Variable |Type |Details

.4+|**`RBRV_CONJURE_DOCKERFILE`**
|Purpose|
Path to the Dockerfile used during the build process for conjuring-type vessels
|Type|
{axtu_path}
|Required|
When vessel type is conjuring
|Constraints|
Typically constructed as `${RBRR_VESSEL_DIR}/${RBRV_SIGIL}/Dockerfile`
Present only in conjuring-type vessels; absent in binding-type vessels

.4+|**`RBRV_CONJURE_BLDCONTEXT`**
|Purpose|
Build context directory passed to the container build engine for conjuring-type vessels
|Type|
{axtu_path}
|Required|
When vessel type is conjuring
|Constraints|
Typically constructed as `${RBRR_VESSEL_DIR}/${RBRV_SIGIL}`
Present only in conjuring-type vessels; absent in binding-type vessels

.4+|**`RBRV_CONJURE_PLATFORMS`**
|Purpose|
Space-delimited target platform architectures for multi-platform builds
|Type|
{axtu_string}:
Space-separated platform identifiers
|Required|
No
|Constraints|
{axd_repeated} {axd_optional}
Example value: `linux/amd64 linux/arm64 linux/arm/v7`
Present only in conjuring-type vessels; absent in binding-type vessels

.4+|**`RBRV_CONJURE_BINFMT_POLICY`**
|Purpose|
QEMU binary format policy for multi-platform builds
|Type|
{axtu_string}:
Enumerated value
|Required|
No
|Constraints|
{axd_optional}
Typical values: `allow` (permit execution) or `warn` (emit warning without blocking)
Controls behavior of cross-architecture binary format emulation during build
Present only in conjuring-type vessels; absent in binding-type vessels
|===

== Core Term Definitions

[[rbrv_regime]]
{rbrv_regime}::
An
{axrg_regime}
that defines container image build specifications and vessel configurations within the Recipe Bottle system.
RBRV regimes are found in `rbev-vessels/*/rbrv.env` files and control the build process for specific container image types.
Each vessel represents a distinct container image configuration with its own build parameters and runtime characteristics.

[[rbrv_sigil]]
{rbrv_sigil}::
An
{axrg_variable}
that uniquely identifies a vessel type across the Recipe Bottle system.
Forms the basis for directory structure (`rbev-vessels/{rbrv_sigil}/`), naming conventions, and moniker basis when constructing
{rbtga_ark}
identifiers.
Example values: `rbev-bottle-ubuntu-test`, `rbev-sentry-ubuntu-large`, `rbev-nginx-ward`.

[[rbrv_description]]
{rbrv_description}::
An
{axrg_variable}
providing human-readable documentation of the vessel's purpose, role, and key characteristics.
Used for identification in logs, messages, and documentation contexts.

[[rbrv_bind_image]]
{rbrv_bind_image}::
An
{axrg_variable}
for binding vessels that specifies the upstream container image reference to use directly without modification.
Format: `registry/namespace/image:tag` (e.g., `docker.io/library/nginx:1.27-alpine`).
Present only in binding-type vessels; absent in conjuring-type vessels.

[[rbrv_conjure_dockerfile]]
{rbrv_conjure_dockerfile}::
An
{axrg_variable}
for conjuring vessels that specifies the path to the Dockerfile used during the build process.
Typically constructed as `${RBRR_VESSEL_DIR}/${RBRV_SIGIL}/Dockerfile`.
Present only in conjuring-type vessels; absent in binding-type vessels.

[[rbrv_conjure_bldcontext]]
{rbrv_conjure_bldcontext}::
An
{axrg_variable}
for conjuring vessels that specifies the build context directory passed to the container build engine.
Typically constructed as `${RBRR_VESSEL_DIR}/${RBRV_SIGIL}`.
Present only in conjuring-type vessels; absent in binding-type vessels.

[[rbrv_conjure_platforms]]
{rbrv_conjure_platforms}::
An
{axrg_variable}
for conjuring vessels that specifies space-delimited target platform architectures for multi-platform builds.
Example value: `linux/amd64 linux/arm64 linux/arm/v7`.
Present only in conjuring-type vessels; absent in binding-type vessels.

[[rbrv_conjure_binfmt_policy]]
{rbrv_conjure_binfmt_policy}::
An
{axrg_variable}
for conjuring vessels that specifies the qemu binary format policy for multi-platform builds.
Typical values: `allow` (permit execution) or `warn` (emit warning without blocking).
Controls behavior of cross-architecture binary format emulation during build.
