NOTE: This sequence within
{opss_sentry_start}
establishes the secondary network interface for the
{at_sentry_container},
connecting it to the
{at_enclave_network}.

// ⟦axs_behavior⟧
. *Connect Container to Enclave Network*:
.. {rbbc_call}
podman network connect to attach
{at_sentry_container}
to
{at_enclave_network}
.. {rbbc_require}
successful network attachment
.. {rbbc_require}
interface naming sequence: eth0 is transit network, eth1 is enclave network

. *Verify Network Interface Configuration*:
.. {rbbc_call}
{mkc_interface_check}
with interface `eth1` and timeout_s `5` within sentry container context
.. {rbbc_require}
interface active before timeout
.. {rbbc_fatal}
if timeout reached: "Enclave network interface eth1 not active"

. *Configure Sentry IP Address*:
.. Remove auto-assigned IP address from eth1
.. {rbbc_call}
ip addr add to assign permanent
{rbrn_enclave_sentry_ip}/{rbrn_enclave_netmask}
to eth1
.. {rbbc_store}
`«SENTRY_IP»` as
{rbrn_enclave_sentry_ip}
.. NOTE: This address will serve as the gateway for the
{at_bottle_container}
after eBPF frame rewriting
.. {rbbc_require}
IP address configured successfully

After this sequence completes, the
{at_sentry_container}
has connectivity on both networks with the correct IP configuration, ready to receive traffic from the
{at_bottle_container}
once the
{at_ebpf_program}
is attached.
