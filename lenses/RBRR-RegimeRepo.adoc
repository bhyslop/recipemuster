= Base Configuration Regime
:doctype: book

// tag::mapping-section[]
//
// Category declarations:
// at_: Architectural terms
// st_: Support/infrastructure terms
//
// Domain declaration: conf_<canonical_term>

:at_bottle_container:        <<term_bottle_container,Bottle Container>>
:at_sentry_container:        <<term_sentry_container,Sentry Container>>

:at_bottle_service:          <<term_bottle_service,Bottle Service>>
:at_bottle_service_s:        <<term_bottle_service,Bottle Services>>
:at_enclave_network:         <<term_enclave_network,Enclave Network>>
:at_enclave_network_s:       <<term_enclave_network,Enclave Networks>>
:at_nameplate:               <<term_nameplate,Nameplate>>
:at_nameplate_s:             <<term_nameplate,Nameplates>>
:at_rbm_system:              <<term_rbm_system,RBM System>>
:at_container_registry:      <<term_container_registry,Remote Container Registry>>
:st_container:               <<term_container,Container>>
:st_container_s:             <<term_container,Containers>>
:st_subnet:                  <<term_subnet,Subnet>>
:st_gateway:                 <<term_gateway,Gateway>>
:st_published_image_s:       <<term_published_image,Published Images>>

// end::mapping-section[]

== Base Configuration

=== Network Configuration

.RBRR_DNS_SERVER
[cols="1,4"]
|===
|Purpose |Specifies the upstream DNS resolver for all
{at_bottle_service_s}.
Each
{at_sentry_container}
uses this DNS server to resolve domain names.
The
{at_bottle_container}
never directly accesses this: the
{at_sentry_container}
acts on its behalf when permitted.

|Required |No

|Format |Valid IPv4 address

|Example |export RBRR_DNS_SERVER := 8.8.8.8
|===

=== System Configuration

.RBRR_NAMEPLATE_PATH
[cols="1,4"]
|===
|Purpose |Defines the directory containing all {at_nameplate} definitions

|Required |No

|Format |Relative path from {at_rbm_system} root

|Default |"nameplates"

|Example |export RBRR_NAMEPLATE_PATH := recipes/nameplates
|===

== Term Definitions

[[term_bottle_service]]
{at_bottle_service}::
A complete service instance consisting of one bottle container and one sentry container, working together to provide secure functionality. Each service maintains strict file system and network boundaries while enabling controlled access to resources.

[[term_enclave_network]]
{at_enclave_network}::
An isolated network connecting a bottle container to its sentry container.
This network enforces strict security policies and provides the only communication path for the bottle container.

[[term_nameplate]]
{at_nameplate}::
A configuration file stored in
RBRR_NAMEPLATE_PATH
that defines all aspects of a bottle service, including its images, network settings, and security policies.
Each nameplate provides a complete service specification that the RBM System can instantiate.

[[term_rbm_system]]
{at_rbm_system}::
The complete Recipe Bottle Makefile system, consisting of the
RBM Console,
RBM Config Makefile,
nameplates,
and
associated tools.
This system enables secure deployment and management of containerized services.

[[term_container_registry]]
{at_container_registry}:: 
A service that stores and provides access to published images.

[[term_container]]
{st_container}:: 
A lightweight, standalone executable package containing all necessary components to run a service.

[[term_subnet]]
{st_subnet}:: 
A logically visible subdivision of IP network address space.

[[term_gateway]]
{st_gateway}:: 
A network node that serves as the entry point between two networks.

[[term_published_image]]
{st_published_image}:: 
An image that has been uploaded to a container registry.

